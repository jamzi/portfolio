{
  "title": "Status Scheduler for Slack",
  "publishedAt": "2019-11-23T22:12:03.284Z",
  "summary": "Automating Slack status and Do Not Disturb preference.",
  "body": {
    "raw": "\n### Idea\n\nAt work, we use Slack for communication and when working from home, I just set the status manually to let my coworkers know that I'm remote.\n\n<Image\n  alt={`Slack set status`}\n  src={`/images/slack-status-scheduler/slack-status-set.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\nIn the [Status Scheduler for Slack app](https://slackschedulerapp.vercel.app/), you can set the predefined status or define your own. The issue is that I always forget to set it. To help with this, I decided to build an automatic status scheduler for Slack that would do this for me.\n\nThe second benefit of such a system is that I can also schedule deep work time every day for a few hours, where I block the notifications and set the status to something like \"Deep work, will reply soon\". It proved itself useful as I can focus on the task at hand and check all the new messages in a batch once I'm done.\n\n### Target audience\n\nThe app was created for the users of the Slack messaging platform. It is especially targeted for people who are conscious of the fact that Slack can bring a lot of noise into your work life if you are not disciplined to minimize the distractions.\n\nIt is also useful for people who occasionally work from home and would like to set the status automatically every week.\n\n### Competition\n\nSlack has an app directory, where you can browse a ton of apps and integrations. I was looking for similar products but couldn't find one that would do the specific things I described above.\n\n<Image\n  alt={`Slack app directory`}\n  src={`/images/slack-status-scheduler/slack-app-directory.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\nThe closest product that I could find is called [Don't Interrupt](http://dontinterrupt.app/), where you can schedule work hours and it will display the status for hours outside of this time window. The app offers a great user experience if you need this kind of behavior.\n\nA lot of apps that control the Slack status integrate with your calendar and display \"In a meeting\" during your events. This is great, but I wanted to write custom status and optionally turn on the Do Not Disturb feature.\n\n### Tech stack\n\n#### Web interface\n\nThe frontend of the app is written in NextJS. It supports signing in with Slack and adding or deleting schedules. On the first page, the app lists your active schedules.\n\nYou can create a new schedule by clicking on the add button and following a three-step process:\n\n1. add a name,\n2. select active hours when the status is displayed and\n3. choose the status text and emoji.\n\n<Image\n  alt={`App screenshot`}\n  src={`/images/slack-status-scheduler/app-screenshot.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\n#### Scheduler\n\nThe scheduler is the heart of the application. When you create a new schedule on the frontend, it will pass it to the scheduler, which creates a cron job and persist it to the MongoDB database. I'm using the AgendaJS system for NodeJS, which provides an API to add, edit and delete cron jobs. When a cron job runs, it will execute a job that calls Slack API sets users' status and Do Not Disturb preference.\n\n<Image\n  alt={`AgendaJS code`}\n  src={`/images/slack-status-scheduler/agenda-code.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\nAgendaJS also offers some plugins, one of them being Agendash, which visualizes the jobs in the system.\n\n<Image\n  alt={`Agendash`}\n  src={`/images/slack-status-scheduler/agendash.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\n#### Slack API\n\nTo integrate your app with Slack, you need to create a new app on https://api.slack.com/. To be able to change the user's status and Do Not Disturb setting, you need to add `users.profile:write` and `dnd:write` scopes.\n\nI'm using the Slack Web API for NodeJS, which provides a nice wrapper for calling the Slack server.\n\nThe initial idea was to set two cron jobs for every schedule, one for setting the schedule and one for clearing it. This won't be necessary, as the Slack API supports adding an expiration date. When you submit a new schedule, the app calculates the duration of the schedule and clears it automatically at the end of the period.\n\n<Image\n  alt={`Slack API code`}\n  src={`/images/slack-status-scheduler/slack-code.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\n#### Hosting\n\nThe frontend is hosted on Zeit Now and the Scheduler backend is deployed as a managed NodeJS app on Google App Engine.\n\nIn my previous projects, I've used serverless architecture for backend, but it wouldn't work so well in this case, as the server for cron jobs needs to run continuously. The usage of the Scheduler backend still falls under the free tier on Google Cloud platform for now. If you are new to the Google Cloud Platform, you can leverage the free [\\$300 dollar offer for new customers](https://cloud.google.com/free/).\n\nFor the database, I used MongoDB and deployed it to their free MongoDB Atlas hosting.\n\n### Overview\n\nBe more productive and check out the app at https://slackschedulerapp.vercel.app/.\n",
    "code": "var Component=(()=>{var cn=Object.create;var P=Object.defineProperty;var un=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var dn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var G=(c,t)=>()=>(t||c((t={exports:{}}).exports,t),t.exports),pn=(c,t)=>{for(var f in t)P(c,f,{get:t[f],enumerable:!0})},ge=(c,t,f,N)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let y of fn(t))!mn.call(c,y)&&y!==f&&P(c,y,{get:()=>t[y],enumerable:!(N=un(t,y))||N.enumerable});return c};var hn=(c,t,f)=>(f=c!=null?cn(dn(c)):{},ge(t||!c||!c.__esModule?P(f,\"default\",{value:c,enumerable:!0}):f,c)),_n=c=>ge(P({},\"__esModule\",{value:!0}),c);var we=G((wn,xe)=>{xe.exports=React});var je=G(J=>{\"use strict\";(function(){\"use strict\";var c=we(),t=Symbol.for(\"react.element\"),f=Symbol.for(\"react.portal\"),N=Symbol.for(\"react.fragment\"),y=Symbol.for(\"react.strict_mode\"),q=Symbol.for(\"react.profiler\"),X=Symbol.for(\"react.provider\"),H=Symbol.for(\"react.context\"),E=Symbol.for(\"react.forward_ref\"),O=Symbol.for(\"react.suspense\"),I=Symbol.for(\"react.suspense_list\"),S=Symbol.for(\"react.memo\"),A=Symbol.for(\"react.lazy\"),Se=Symbol.for(\"react.offscreen\"),K=Symbol.iterator,Te=\"@@iterator\";function Re(e){if(e===null||typeof e!=\"object\")return null;var n=K&&e[K]||e[Te];return typeof n==\"function\"?n:null}var x=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function p(e){{for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Ue(\"error\",e,r)}}function Ue(e,n,r){{var o=x.ReactDebugCurrentFrame,l=o.getStackAddendum();l!==\"\"&&(n+=\"%s\",r=r.concat([l]));var u=r.map(function(s){return String(s)});u.unshift(\"Warning: \"+n),Function.prototype.apply.call(console[e],console,u)}}var ze=!1,Ce=!1,Pe=!1,Oe=!1,Ie=!1,Z;Z=Symbol.for(\"react.module.reference\");function Ae(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===N||e===q||Ie||e===y||e===O||e===I||Oe||e===Se||ze||Ce||Pe||typeof e==\"object\"&&e!==null&&(e.$$typeof===A||e.$$typeof===S||e.$$typeof===X||e.$$typeof===H||e.$$typeof===E||e.$$typeof===Z||e.getModuleId!==void 0))}function Fe(e,n,r){var o=e.displayName;if(o)return o;var l=n.displayName||n.name||\"\";return l!==\"\"?r+\"(\"+l+\")\":r}function Q(e){return e.displayName||\"Context\"}function v(e){if(e==null)return null;if(typeof e.tag==\"number\"&&p(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case N:return\"Fragment\";case f:return\"Portal\";case q:return\"Profiler\";case y:return\"StrictMode\";case O:return\"Suspense\";case I:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case H:var n=e;return Q(n)+\".Consumer\";case X:var r=e;return Q(r._context)+\".Provider\";case E:return Fe(e,e.render,\"ForwardRef\");case S:var o=e.displayName||null;return o!==null?o:v(e.type)||\"Memo\";case A:{var l=e,u=l._payload,s=l._init;try{return v(s(u))}catch{return null}}}return null}var g=Object.assign,D=0,ee,ne,te,re,ae,oe,ie;function se(){}se.__reactDisabledLog=!0;function We(){{if(D===0){ee=console.log,ne=console.info,te=console.warn,re=console.error,ae=console.group,oe=console.groupCollapsed,ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:se,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}D++}}function Me(){{if(D--,D===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:g({},e,{value:ee}),info:g({},e,{value:ne}),warn:g({},e,{value:te}),error:g({},e,{value:re}),group:g({},e,{value:ae}),groupCollapsed:g({},e,{value:oe}),groupEnd:g({},e,{value:ie})})}D<0&&p(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var F=x.ReactCurrentDispatcher,W;function T(e,n,r){{if(W===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\\n( *(at )?)/);W=o&&o[1]||\"\"}return`\n`+W+e}}var M=!1,R;{var Ye=typeof WeakMap==\"function\"?WeakMap:Map;R=new Ye}function le(e,n){if(!e||M)return\"\";{var r=R.get(e);if(r!==void 0)return r}var o;M=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var u;u=F.current,F.current=null,We();try{if(n){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){o=b}Reflect.construct(e,[],s)}else{try{s.call()}catch(b){o=b}e.call(s.prototype)}}else{try{throw Error()}catch(b){o=b}e()}}catch(b){if(b&&o&&typeof b.stack==\"string\"){for(var i=b.stack.split(`\n`),h=o.stack.split(`\n`),d=i.length-1,m=h.length-1;d>=1&&m>=0&&i[d]!==h[m];)m--;for(;d>=1&&m>=0;d--,m--)if(i[d]!==h[m]){if(d!==1||m!==1)do if(d--,m--,m<0||i[d]!==h[m]){var _=`\n`+i[d].replace(\" at new \",\" at \");return e.displayName&&_.includes(\"<anonymous>\")&&(_=_.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&R.set(e,_),_}while(d>=1&&m>=0);break}}}finally{M=!1,F.current=u,Me(),Error.prepareStackTrace=l}var j=e?e.displayName||e.name:\"\",Ne=j?T(j):\"\";return typeof e==\"function\"&&R.set(e,Ne),Ne}function $e(e,n,r){return le(e,!1)}function Ve(e){var n=e.prototype;return!!(n&&n.isReactComponent)}function U(e,n,r){if(e==null)return\"\";if(typeof e==\"function\")return le(e,Ve(e));if(typeof e==\"string\")return T(e);switch(e){case O:return T(\"Suspense\");case I:return T(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case E:return $e(e.render);case S:return U(e.type,n,r);case A:{var o=e,l=o._payload,u=o._init;try{return U(u(l),n,r)}catch{}}}return\"\"}var z=Object.prototype.hasOwnProperty,ce={},ue=x.ReactDebugCurrentFrame;function C(e){if(e){var n=e._owner,r=U(e.type,e._source,n?n.type:null);ue.setExtraStackFrame(r)}else ue.setExtraStackFrame(null)}function Le(e,n,r,o,l){{var u=Function.call.bind(z);for(var s in e)if(u(e,s)){var i=void 0;try{if(typeof e[s]!=\"function\"){var h=Error((o||\"React class\")+\": \"+r+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw h.name=\"Invariant Violation\",h}i=e[s](n,s,o,r,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(d){i=d}i&&!(i instanceof Error)&&(C(l),p(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",r,s,typeof i),C(null)),i instanceof Error&&!(i.message in ce)&&(ce[i.message]=!0,C(l),p(\"Failed %s type: %s\",r,i.message),C(null))}}}var Be=Array.isArray;function Y(e){return Be(e)}function Ge(e){{var n=typeof Symbol==\"function\"&&Symbol.toStringTag,r=n&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return r}}function Je(e){try{return fe(e),!1}catch{return!0}}function fe(e){return\"\"+e}function de(e){if(Je(e))return p(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Ge(e)),fe(e)}var k=x.ReactCurrentOwner,qe={key:!0,ref:!0,__self:!0,__source:!0},me,pe,$;$={};function Xe(e){if(z.call(e,\"ref\")){var n=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(n&&n.isReactWarning)return!1}return e.ref!==void 0}function He(e){if(z.call(e,\"key\")){var n=Object.getOwnPropertyDescriptor(e,\"key\").get;if(n&&n.isReactWarning)return!1}return e.key!==void 0}function Ke(e,n){if(typeof e.ref==\"string\"&&k.current&&n&&k.current.stateNode!==n){var r=v(k.current.type);$[r]||(p('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',v(k.current.type),e.ref),$[r]=!0)}}function Ze(e,n){{var r=function(){me||(me=!0,p(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};r.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:r,configurable:!0})}}function Qe(e,n){{var r=function(){pe||(pe=!0,p(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};r.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:r,configurable:!0})}}var en=function(e,n,r,o,l,u,s){var i={$$typeof:t,type:e,key:n,ref:r,props:s,_owner:u};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:l}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function nn(e,n,r,o,l){{var u,s={},i=null,h=null;r!==void 0&&(de(r),i=\"\"+r),He(n)&&(de(n.key),i=\"\"+n.key),Xe(n)&&(h=n.ref,Ke(n,l));for(u in n)z.call(n,u)&&!qe.hasOwnProperty(u)&&(s[u]=n[u]);if(e&&e.defaultProps){var d=e.defaultProps;for(u in d)s[u]===void 0&&(s[u]=d[u])}if(i||h){var m=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Ze(s,m),h&&Qe(s,m)}return en(e,i,h,l,o,k.current,s)}}var V=x.ReactCurrentOwner,he=x.ReactDebugCurrentFrame;function w(e){if(e){var n=e._owner,r=U(e.type,e._source,n?n.type:null);he.setExtraStackFrame(r)}else he.setExtraStackFrame(null)}var L;L=!1;function B(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===t}function _e(){{if(V.current){var e=v(V.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function tn(e){{if(e!==void 0){var n=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),r=e.lineNumber;return`\n\nCheck your code at `+n+\":\"+r+\".\"}return\"\"}}var ve={};function rn(e){{var n=_e();if(!n){var r=typeof e==\"string\"?e:e.displayName||e.name;r&&(n=`\n\nCheck the top-level render call using <`+r+\">.\")}return n}}function be(e,n){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var r=rn(n);if(ve[r])return;ve[r]=!0;var o=\"\";e&&e._owner&&e._owner!==V.current&&(o=\" It was passed a child from \"+v(e._owner.type)+\".\"),w(e),p('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,o),w(null)}}function ye(e,n){{if(typeof e!=\"object\")return;if(Y(e))for(var r=0;r<e.length;r++){var o=e[r];B(o)&&be(o,n)}else if(B(e))e._store&&(e._store.validated=!0);else if(e){var l=Re(e);if(typeof l==\"function\"&&l!==e.entries)for(var u=l.call(e),s;!(s=u.next()).done;)B(s.value)&&be(s.value,n)}}}function an(e){{var n=e.type;if(n==null||typeof n==\"string\")return;var r;if(typeof n==\"function\")r=n.propTypes;else if(typeof n==\"object\"&&(n.$$typeof===E||n.$$typeof===S))r=n.propTypes;else return;if(r){var o=v(n);Le(r,e.props,\"prop\",o,e)}else if(n.PropTypes!==void 0&&!L){L=!0;var l=v(n);p(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",l||\"Unknown\")}typeof n.getDefaultProps==\"function\"&&!n.getDefaultProps.isReactClassApproved&&p(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function on(e){{for(var n=Object.keys(e.props),r=0;r<n.length;r++){var o=n[r];if(o!==\"children\"&&o!==\"key\"){w(e),p(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),w(null);break}}e.ref!==null&&(w(e),p(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),w(null))}}function sn(e,n,r,o,l,u){{var s=Ae(e);if(!s){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var h=tn(l);h?i+=h:i+=_e();var d;e===null?d=\"null\":Y(e)?d=\"array\":e!==void 0&&e.$$typeof===t?(d=\"<\"+(v(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):d=typeof e,p(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",d,i)}var m=nn(e,n,r,l,u);if(m==null)return m;if(s){var _=n.children;if(_!==void 0)if(o)if(Y(_)){for(var j=0;j<_.length;j++)ye(_[j],e);Object.freeze&&Object.freeze(_)}else p(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ye(_,e)}return e===N?on(m):an(m),m}}var ln=sn;J.Fragment=N,J.jsxDEV=ln})()});var ke=G((Dn,De)=>{\"use strict\";De.exports=je()});var gn={};pn(gn,{default:()=>yn,frontmatter:()=>vn});var a=hn(ke()),vn={title:\"Status Scheduler for Slack\",publishedAt:\"2019-11-23T22:12:03.284Z\",summary:\"Automating Slack status and Do Not Disturb preference.\"};function Ee(c){let t=Object.assign({h3:\"h3\",a:\"a\",span:\"span\",p:\"p\",h4:\"h4\",ol:\"ol\",li:\"li\",code:\"code\"},c.components),{Image:f}=t;return f||Nn(\"Image\",!0,\"11:1-16:3\"),(0,a.jsxDEV)(a.Fragment,{children:[(0,a.jsxDEV)(t.h3,{id:\"idea\",children:[(0,a.jsxDEV)(t.a,{className:\"anchor\",href:\"#idea\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this),\"Idea\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"At work, we use Slack for communication and when working from home, I just set the status manually to let my coworkers know that I'm remote.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:9,columnNumber:1},this),`\n`,(0,a.jsxDEV)(f,{alt:\"Slack set status\",src:\"/images/slack-status-scheduler/slack-status-set.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:11,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:[\"In the \",(0,a.jsxDEV)(t.a,{href:\"https://slackschedulerapp.vercel.app/\",children:\"Status Scheduler for Slack app\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:18,columnNumber:8},this),\", you can set the predefined status or define your own. The issue is that I always forget to set it. To help with this, I decided to build an automatic status scheduler for Slack that would do this for me.\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:`The second benefit of such a system is that I can also schedule deep work time every day for a few hours, where I block the notifications and set the status to something like \"Deep work, will reply soon\". It proved itself useful as I can focus on the task at hand and check all the new messages in a batch once I'm done.`},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:20,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h3,{id:\"target-audience\",children:[(0,a.jsxDEV)(t.a,{className:\"anchor\",href:\"#target-audience\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this),\"Target audience\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:22,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"The app was created for the users of the Slack messaging platform. It is especially targeted for people who are conscious of the fact that Slack can bring a lot of noise into your work life if you are not disciplined to minimize the distractions.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"It is also useful for people who occasionally work from home and would like to set the status automatically every week.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:26,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h3,{id:\"competition\",children:[(0,a.jsxDEV)(t.a,{className:\"anchor\",href:\"#competition\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this),\"Competition\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"Slack has an app directory, where you can browse a ton of apps and integrations. I was looking for similar products but couldn't find one that would do the specific things I described above.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,a.jsxDEV)(f,{alt:\"Slack app directory\",src:\"/images/slack-status-scheduler/slack-app-directory.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:32,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:[\"The closest product that I could find is called \",(0,a.jsxDEV)(t.a,{href:\"http://dontinterrupt.app/\",children:\"Don't Interrupt\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:39,columnNumber:49},this),\", where you can schedule work hours and it will display the status for hours outside of this time window. The app offers a great user experience if you need this kind of behavior.\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:'A lot of apps that control the Slack status integrate with your calendar and display \"In a meeting\" during your events. This is great, but I wanted to write custom status and optionally turn on the Do Not Disturb feature.'},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h3,{id:\"tech-stack\",children:[(0,a.jsxDEV)(t.a,{className:\"anchor\",href:\"#tech-stack\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this),\"Tech stack\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h4,{id:\"web-interface\",children:[(0,a.jsxDEV)(t.a,{className:\"anchor\",href:\"#web-interface\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this),\"Web interface\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"The frontend of the app is written in NextJS. It supports signing in with Slack and adding or deleting schedules. On the first page, the app lists your active schedules.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"You can create a new schedule by clicking on the add button and following a three-step process:\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.ol,{children:[`\n`,(0,a.jsxDEV)(t.li,{children:\"add a name,\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.li,{children:\"select active hours when the status is displayed and\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.li,{children:\"choose the status text and emoji.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:53,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,a.jsxDEV)(f,{alt:\"App screenshot\",src:\"/images/slack-status-scheduler/app-screenshot.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h4,{id:\"scheduler\",children:[(0,a.jsxDEV)(t.a,{className:\"anchor\",href:\"#scheduler\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this),\"Scheduler\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:62,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"The scheduler is the heart of the application. When you create a new schedule on the frontend, it will pass it to the scheduler, which creates a cron job and persist it to the MongoDB database. I'm using the AgendaJS system for NodeJS, which provides an API to add, edit and delete cron jobs. When a cron job runs, it will execute a job that calls Slack API sets users' status and Do Not Disturb preference.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:64,columnNumber:1},this),`\n`,(0,a.jsxDEV)(f,{alt:\"AgendaJS code\",src:\"/images/slack-status-scheduler/agenda-code.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:66,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"AgendaJS also offers some plugins, one of them being Agendash, which visualizes the jobs in the system.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:73,columnNumber:1},this),`\n`,(0,a.jsxDEV)(f,{alt:\"Agendash\",src:\"/images/slack-status-scheduler/agendash.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:75,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h4,{id:\"slack-api\",children:[(0,a.jsxDEV)(t.a,{className:\"anchor\",href:\"#slack-api\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this),\"Slack API\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:82,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:[\"To integrate your app with Slack, you need to create a new app on \",(0,a.jsxDEV)(t.a,{href:\"https://api.slack.com/\",children:\"https://api.slack.com/\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:84,columnNumber:67},this),\". To be able to change the user's status and Do Not Disturb setting, you need to add \",(0,a.jsxDEV)(t.code,{children:\"users.profile:write\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:84,columnNumber:174},this),\" and \",(0,a.jsxDEV)(t.code,{children:\"dnd:write\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:84,columnNumber:200},this),\" scopes.\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:84,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"I'm using the Slack Web API for NodeJS, which provides a nice wrapper for calling the Slack server.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:86,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"The initial idea was to set two cron jobs for every schedule, one for setting the schedule and one for clearing it. This won't be necessary, as the Slack API supports adding an expiration date. When you submit a new schedule, the app calculates the duration of the schedule and clears it automatically at the end of the period.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:88,columnNumber:1},this),`\n`,(0,a.jsxDEV)(f,{alt:\"Slack API code\",src:\"/images/slack-status-scheduler/slack-code.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:90,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h4,{id:\"hosting\",children:[(0,a.jsxDEV)(t.a,{className:\"anchor\",href:\"#hosting\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this),\"Hosting\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"The frontend is hosted on Zeit Now and the Scheduler backend is deployed as a managed NodeJS app on Google App Engine.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:99,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:[\"In my previous projects, I've used serverless architecture for backend, but it wouldn't work so well in this case, as the server for cron jobs needs to run continuously. The usage of the Scheduler backend still falls under the free tier on Google Cloud platform for now. If you are new to the Google Cloud Platform, you can leverage the free \",(0,a.jsxDEV)(t.a,{href:\"https://cloud.google.com/free/\",children:\"$300 dollar offer for new customers\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:101,columnNumber:343},this),\".\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:101,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"For the database, I used MongoDB and deployed it to their free MongoDB Atlas hosting.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:103,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h3,{id:\"overview\",children:[(0,a.jsxDEV)(t.a,{className:\"anchor\",href:\"#overview\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this),\"Overview\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:105,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:[\"Be more productive and check out the app at \",(0,a.jsxDEV)(t.a,{href:\"https://slackschedulerapp.vercel.app/\",children:\"https://slackschedulerapp.vercel.app/\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:107,columnNumber:45},this),\".\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:107,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\",lineNumber:1,columnNumber:1},this)}function bn(c={}){let{wrapper:t}=c.components||{};return t?(0,a.jsxDEV)(t,Object.assign({},c,{children:(0,a.jsxDEV)(Ee,c,void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this)}),void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx\"},this):Ee(c)}var yn=bn;function Nn(c,t,f){throw new Error(\"Expected \"+(t?\"component\":\"object\")+\" `\"+c+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(f?\"\\nIt\\u2019s referenced in your code at `\"+f+\"` in `/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-599a9fec-9e00-49f9-84ee-e41f10c4aea1.mdx`\":\"\"))}return _n(gn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "slack-status-scheduler.mdx",
  "_raw": {
    "sourceFilePath": "slack-status-scheduler.mdx",
    "sourceFileName": "slack-status-scheduler.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "slack-status-scheduler"
  },
  "type": "Blog",
  "slug": "slack-status-scheduler",
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Status Scheduler for Slack",
    "datePublished": "2019-11-23T22:12:03.284Z",
    "dateModified": "2019-11-23T22:12:03.284Z",
    "description": "Automating Slack status and Do Not Disturb preference.",
    "image": "https://janez.tech/og?title=Status Scheduler for Slack",
    "url": "https://janez.tech/blog/slack-status-scheduler",
    "author": {
      "@type": "Person",
      "name": "Janez Čadež"
    }
  }
}