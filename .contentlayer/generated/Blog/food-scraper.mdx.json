{
  "title": "Web scraping with JavaScript",
  "publishedAt": "2019-09-25T22:12:03.284Z",
  "summary": "Building daily food menu app using NextJS, Puppeteer and Zeit Now.",
  "body": {
    "raw": "\nThe company I work for just moved into new offices and there are two TVs in the main area where we sit that don't serve any purpose. We were discussing what should we display on these TVs. Usually, they are used to display build status of an app, but we are an agency and we work on multiple projects.\n\nWe got an idea to display daily menus from nearby restaurants to help us decide what to eat for lunch. The scraper would go to each restaurant website and get the content of a daily menu to help us figure out what to eat.\n\nSince it sounded like a cool idea and I want to build a few [side projects](https://janez.tech/blog/side-projects/), I quietly set out to build an MVP version.\n\nAt the end of this article, I'll share a link to GitHub, where you can see or re-use the project for your own needs.\n\n### How do you do web scraping?\n\nWith no knowledge of web scraping tools or libraries, but a decent knowledge of JavaScript, I started querying Google for restaurant websites. I gathered popular restaurants to which coworkers were going out to lunch and inspected their websites. Most of these sites were static, meaning no JavaScript was required to render initial content. This was great news, because I wanted to keep the first version as simple as possible.\n\n### Tech stack\n\nBackend is a simple NodeJS project and I used Axios HTTP client to fetch the content of the page. To select a specific element on the page, I found a recommendation to use a package called Cheerio, which adds you jQuery-like selectors to server. I used this to get content from the web page using selectors and it was cleaner than using vanilla JavaScript selectors.\n\n<Image\n  alt={`Cheerio syntax`}\n  src={`/images/food-scraper/cheerio.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\nI also needed a frontend part to display the restaurants and menu items. Since I use React library daily, I wanted to try something familiar and settled for NextJS, which is a nice bundled React solution. NextJS offers server-side rendered React application and allows you to integrate a custom NodeJS server. This is perfect for my use case, as I can keep the whole project as a monorepo.\n\n<Image\n  alt={`Monorepo file structure`}\n  src={`/images/food-scraper/file-structure.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\nA company called Zeit, creator of NextJS, also offers a deployment solution called Zeit Now. It's a CDN + Serverless offer and works well with NextJS. It deploys both frontend and backend with a single command and you can hook up your Git repository to deploy every time you push your changes to a branch.\n\n### Scraping is a dirty job\n\nAs you saw the syntax of one example for Cheerio usage, web scraping is much more convoluted than just using an API. For example, one restaurant just dumped all the menu items text into a single paragraph and I couldn't do much restructuring of the data to fit my needs.\n\nThere were a few issues with my current approach:\n\n- I noticed some weird behavior with special characters on one of the websites, where the page charset was set to non-utf8 and I couldn't get it to be scraped without weird-looking HTML characters.\n- The whole site was quite slow. I did all of the web scrapings in the custom NodeJS endpoint and was waiting for 5 restaurants to send scraped data before displaying the UI. It wasn't the best user experience, but it was OK to prove the concept.\n\nI deployed and presented the first version of the app to coworkers.\n\n### First feedback\n\nI am thankful that I got positive feedback from coworkers, who were using my app for a couple of days.\n\nThe first request I got for the scraper was to support another popular restaurant. The issue was that this restaurant's site was not completely static, but it generated a menu dynamically with JavaScript. This meant that we cannot just get the page content with an Axios HTTP request, but we needed to load the page in a browser-like environment and wait for the JS to load before getting the HTML content.\n\nI searched the web for answers to this and found that the Google team released a tool called Puppeteer. It's a NodeJS library that allows you to control web browser in a headless environment and it's perfect for running on the server or in the command line.\n\n### Puppeteer and Zeit Now\n\nZeit Now worked great for normal requests with Axios but had some issues running Puppeteer. With a bit of googling, I found that the main issue is the size of Puppeteer, as we are limited with the size of a serverless function. Full Puppeteer also includes the Google Chrome browser, but puppeteer-core compresses the size of it and is perfect for these environments. I used this version for Zeit Now deployment and added some conditional logic to run the full version in the development and the compressed version on Zeit Now.\n\nZeit Now offers a CLI and also has a development version (Now Dev) that you can use to reproduce their production environment on your machine. This is great, because it also supports live reload and it feels like developing a frontend app. I had some issues using Now Dev command and Puppeteer, so I just added a simple package.json script to run Express for my backend and NextJS in parallel for local development.\n\n<Image\n  alt={`Scripts`}\n  src={`/images/food-scraper/package-json.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\nThe problem with a site not displaying special characters was fixed just by using Puppeteer. Nice.\n\n### It's slow!\n\nWith using Puppeteer in the app, I noticed an increase in time to get back scraped data. Puppeteer runs a Chrome instance and opens pages individually. The issue was especially noticeable with our JavaScript-powered restaurant, where we had to wait for a certain element to be present on the page before we could scrape the page.\n\nDeploying the current version to Zeit Now, I often got runtime errors and when I checked, it said the serverless function timed out. Zeit Now has a limit of 10s execution time per free tier function.\n\nI searched for a solution online and found out that you can disable certain request types in Puppeteer. I disabled stylesheet (CSS), fonts, and images in our requests, meaning the Chrome instance would render just text. This made the scraping a bit faster, but still not good enough.\n\n<Image\n  alt={`Puppeteer optimization`}\n  src={`/images/food-scraper/puppeteer-optimization.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\nWe had to use another approach, different than executing all web scrapers together in one function.\n\nInstead of scraping all the restaurants together in a serverless function, I created a common function where you just passed the restaurant name as a query parameter. The function then runs Puppeteer, visits the site, and scrapes the content.\n\nOn the frontend, we now do multiple requests and we treat responses individually, as we don't need to wait for other restaurants. This greatly reduces the time it takes to execute a function and it also improves loading perception, as we can add loaders to individual restaurants.\n\n### Making it faster\n\nBecause restaurant data is published in the late morning and doesn't change often during the day, I also thought it doesn't make sense to run the scraper with each request, as we could cache the data.\n\nZeit Now supports lambda response caching, which I leveraged and set up to cache for 30 minutes. Adding to that, I set up a simple cron job with [EasyCron](https://www.easycron.com) to ping the endpoint from 9 a.m. to 2 p.m. every 15 min to reduce the load time when the users usually visit the page to look at the restaurant daily lunch menus.\n\n### Overview\n\nI'm pretty happy with current tech stack and the functionality of the app. It's great to have a small monorepo and a simple deployment process using Zeit Now.\n\n<Image\n  alt={`Food scraper`}\n  src={`/images/food-scraper/food-scraper.png`}\n  width={1456 / 2}\n  height={819 / 2}\n/>\n\nI can also easily add or remove restaurants and write a custom scraper for each one.\n\nIf you want to check out the project, you can find it on [GitHub](https://github.com/jamzi/food-scraper).\n\n#### Resources\n\n- https://cheerio.js.org/ (Fast, flexible, and lean implementation of core jQuery designed specifically for the server)\n- https://github.com/GoogleChrome/puppeteer (Headless Chrome Node.js API)\n- https://nextjs.org/ (NextJS React Framework)\n- https://zeit.co/ (Zeit Now platform)\n",
    "code": "var Component=(()=>{var un=Object.create;var C=Object.defineProperty;var ln=Object.getOwnPropertyDescriptor;var dn=Object.getOwnPropertyNames;var cn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var q=(u,n)=>()=>(n||u((n={exports:{}}).exports,n),n.exports),pn=(u,n)=>{for(var c in n)C(u,c,{get:n[c],enumerable:!0})},ge=(u,n,c,N)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let y of dn(n))!mn.call(u,y)&&y!==c&&C(u,y,{get:()=>n[y],enumerable:!(N=ln(n,y))||N.enumerable});return u};var bn=(u,n,c)=>(c=u!=null?un(cn(u)):{},ge(n||!u||!u.__esModule?C(c,\"default\",{value:u,enumerable:!0}):c,u)),hn=u=>ge(C({},\"__esModule\",{value:!0}),u);var we=q((wn,xe)=>{xe.exports=React});var je=q(Z=>{\"use strict\";(function(){\"use strict\";var u=we(),n=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),N=Symbol.for(\"react.fragment\"),y=Symbol.for(\"react.strict_mode\"),G=Symbol.for(\"react.profiler\"),B=Symbol.for(\"react.provider\"),H=Symbol.for(\"react.context\"),T=Symbol.for(\"react.forward_ref\"),P=Symbol.for(\"react.suspense\"),O=Symbol.for(\"react.suspense_list\"),z=Symbol.for(\"react.memo\"),A=Symbol.for(\"react.lazy\"),ze=Symbol.for(\"react.offscreen\"),K=Symbol.iterator,Ue=\"@@iterator\";function ke(e){if(e===null||typeof e!=\"object\")return null;var t=K&&e[K]||e[Ue];return typeof t==\"function\"?t:null}var x=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function p(e){{for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];Re(\"error\",e,a)}}function Re(e,t,a){{var o=x.ReactDebugCurrentFrame,f=o.getStackAddendum();f!==\"\"&&(t+=\"%s\",a=a.concat([f]));var l=a.map(function(s){return String(s)});l.unshift(\"Warning: \"+t),Function.prototype.apply.call(console[e],console,l)}}var Se=!1,Ie=!1,Ce=!1,Pe=!1,Oe=!1,X;X=Symbol.for(\"react.module.reference\");function Ae(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===N||e===G||Oe||e===y||e===P||e===O||Pe||e===ze||Se||Ie||Ce||typeof e==\"object\"&&e!==null&&(e.$$typeof===A||e.$$typeof===z||e.$$typeof===B||e.$$typeof===H||e.$$typeof===T||e.$$typeof===X||e.getModuleId!==void 0))}function Fe(e,t,a){var o=e.displayName;if(o)return o;var f=t.displayName||t.name||\"\";return f!==\"\"?a+\"(\"+f+\")\":a}function Q(e){return e.displayName||\"Context\"}function v(e){if(e==null)return null;if(typeof e.tag==\"number\"&&p(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case N:return\"Fragment\";case c:return\"Portal\";case G:return\"Profiler\";case y:return\"StrictMode\";case P:return\"Suspense\";case O:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case H:var t=e;return Q(t)+\".Consumer\";case B:var a=e;return Q(a._context)+\".Provider\";case T:return Fe(e,e.render,\"ForwardRef\");case z:var o=e.displayName||null;return o!==null?o:v(e.type)||\"Memo\";case A:{var f=e,l=f._payload,s=f._init;try{return v(s(l))}catch{return null}}}return null}var g=Object.assign,D=0,ee,ne,te,re,ae,oe,ie;function se(){}se.__reactDisabledLog=!0;function We(){{if(D===0){ee=console.log,ne=console.info,te=console.warn,re=console.error,ae=console.group,oe=console.groupCollapsed,ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:se,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}D++}}function Me(){{if(D--,D===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:g({},e,{value:ee}),info:g({},e,{value:ne}),warn:g({},e,{value:te}),error:g({},e,{value:re}),group:g({},e,{value:ae}),groupCollapsed:g({},e,{value:oe}),groupEnd:g({},e,{value:ie})})}D<0&&p(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var F=x.ReactCurrentDispatcher,W;function U(e,t,a){{if(W===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\\n( *(at )?)/);W=o&&o[1]||\"\"}return`\n`+W+e}}var M=!1,k;{var Ve=typeof WeakMap==\"function\"?WeakMap:Map;k=new Ve}function fe(e,t){if(!e||M)return\"\";{var a=k.get(e);if(a!==void 0)return a}var o;M=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var l;l=F.current,F.current=null,We();try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(_){o=_}Reflect.construct(e,[],s)}else{try{s.call()}catch(_){o=_}e.call(s.prototype)}}else{try{throw Error()}catch(_){o=_}e()}}catch(_){if(_&&o&&typeof _.stack==\"string\"){for(var i=_.stack.split(`\n`),b=o.stack.split(`\n`),d=i.length-1,m=b.length-1;d>=1&&m>=0&&i[d]!==b[m];)m--;for(;d>=1&&m>=0;d--,m--)if(i[d]!==b[m]){if(d!==1||m!==1)do if(d--,m--,m<0||i[d]!==b[m]){var h=`\n`+i[d].replace(\" at new \",\" at \");return e.displayName&&h.includes(\"<anonymous>\")&&(h=h.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&k.set(e,h),h}while(d>=1&&m>=0);break}}}finally{M=!1,F.current=l,Me(),Error.prepareStackTrace=f}var j=e?e.displayName||e.name:\"\",Ne=j?U(j):\"\";return typeof e==\"function\"&&k.set(e,Ne),Ne}function Ye(e,t,a){return fe(e,!1)}function $e(e){var t=e.prototype;return!!(t&&t.isReactComponent)}function R(e,t,a){if(e==null)return\"\";if(typeof e==\"function\")return fe(e,$e(e));if(typeof e==\"string\")return U(e);switch(e){case P:return U(\"Suspense\");case O:return U(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case T:return Ye(e.render);case z:return R(e.type,t,a);case A:{var o=e,f=o._payload,l=o._init;try{return R(l(f),t,a)}catch{}}}return\"\"}var S=Object.prototype.hasOwnProperty,ue={},le=x.ReactDebugCurrentFrame;function I(e){if(e){var t=e._owner,a=R(e.type,e._source,t?t.type:null);le.setExtraStackFrame(a)}else le.setExtraStackFrame(null)}function Je(e,t,a,o,f){{var l=Function.call.bind(S);for(var s in e)if(l(e,s)){var i=void 0;try{if(typeof e[s]!=\"function\"){var b=Error((o||\"React class\")+\": \"+a+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw b.name=\"Invariant Violation\",b}i=e[s](t,s,o,a,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(d){i=d}i&&!(i instanceof Error)&&(I(f),p(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",a,s,typeof i),I(null)),i instanceof Error&&!(i.message in ue)&&(ue[i.message]=!0,I(f),p(\"Failed %s type: %s\",a,i.message),I(null))}}}var Le=Array.isArray;function V(e){return Le(e)}function qe(e){{var t=typeof Symbol==\"function\"&&Symbol.toStringTag,a=t&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return a}}function Ze(e){try{return de(e),!1}catch{return!0}}function de(e){return\"\"+e}function ce(e){if(Ze(e))return p(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",qe(e)),de(e)}var E=x.ReactCurrentOwner,Ge={key:!0,ref:!0,__self:!0,__source:!0},me,pe,Y;Y={};function Be(e){if(S.call(e,\"ref\")){var t=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(t&&t.isReactWarning)return!1}return e.ref!==void 0}function He(e){if(S.call(e,\"key\")){var t=Object.getOwnPropertyDescriptor(e,\"key\").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function Ke(e,t){if(typeof e.ref==\"string\"&&E.current&&t&&E.current.stateNode!==t){var a=v(E.current.type);Y[a]||(p('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',v(E.current.type),e.ref),Y[a]=!0)}}function Xe(e,t){{var a=function(){me||(me=!0,p(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",t))};a.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:a,configurable:!0})}}function Qe(e,t){{var a=function(){pe||(pe=!0,p(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",t))};a.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:a,configurable:!0})}}var en=function(e,t,a,o,f,l,s){var i={$$typeof:n,type:e,key:t,ref:a,props:s,_owner:l};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:f}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function nn(e,t,a,o,f){{var l,s={},i=null,b=null;a!==void 0&&(ce(a),i=\"\"+a),He(t)&&(ce(t.key),i=\"\"+t.key),Be(t)&&(b=t.ref,Ke(t,f));for(l in t)S.call(t,l)&&!Ge.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps){var d=e.defaultProps;for(l in d)s[l]===void 0&&(s[l]=d[l])}if(i||b){var m=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Xe(s,m),b&&Qe(s,m)}return en(e,i,b,f,o,E.current,s)}}var $=x.ReactCurrentOwner,be=x.ReactDebugCurrentFrame;function w(e){if(e){var t=e._owner,a=R(e.type,e._source,t?t.type:null);be.setExtraStackFrame(a)}else be.setExtraStackFrame(null)}var J;J=!1;function L(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function he(){{if($.current){var e=v($.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function tn(e){{if(e!==void 0){var t=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),a=e.lineNumber;return`\n\nCheck your code at `+t+\":\"+a+\".\"}return\"\"}}var ve={};function rn(e){{var t=he();if(!t){var a=typeof e==\"string\"?e:e.displayName||e.name;a&&(t=`\n\nCheck the top-level render call using <`+a+\">.\")}return t}}function _e(e,t){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var a=rn(t);if(ve[a])return;ve[a]=!0;var o=\"\";e&&e._owner&&e._owner!==$.current&&(o=\" It was passed a child from \"+v(e._owner.type)+\".\"),w(e),p('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',a,o),w(null)}}function ye(e,t){{if(typeof e!=\"object\")return;if(V(e))for(var a=0;a<e.length;a++){var o=e[a];L(o)&&_e(o,t)}else if(L(e))e._store&&(e._store.validated=!0);else if(e){var f=ke(e);if(typeof f==\"function\"&&f!==e.entries)for(var l=f.call(e),s;!(s=l.next()).done;)L(s.value)&&_e(s.value,t)}}}function an(e){{var t=e.type;if(t==null||typeof t==\"string\")return;var a;if(typeof t==\"function\")a=t.propTypes;else if(typeof t==\"object\"&&(t.$$typeof===T||t.$$typeof===z))a=t.propTypes;else return;if(a){var o=v(t);Je(a,e.props,\"prop\",o,e)}else if(t.PropTypes!==void 0&&!J){J=!0;var f=v(t);p(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",f||\"Unknown\")}typeof t.getDefaultProps==\"function\"&&!t.getDefaultProps.isReactClassApproved&&p(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function on(e){{for(var t=Object.keys(e.props),a=0;a<t.length;a++){var o=t[a];if(o!==\"children\"&&o!==\"key\"){w(e),p(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),w(null);break}}e.ref!==null&&(w(e),p(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),w(null))}}function sn(e,t,a,o,f,l){{var s=Ae(e);if(!s){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var b=tn(f);b?i+=b:i+=he();var d;e===null?d=\"null\":V(e)?d=\"array\":e!==void 0&&e.$$typeof===n?(d=\"<\"+(v(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):d=typeof e,p(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",d,i)}var m=nn(e,t,a,f,l);if(m==null)return m;if(s){var h=t.children;if(h!==void 0)if(o)if(V(h)){for(var j=0;j<h.length;j++)ye(h[j],e);Object.freeze&&Object.freeze(h)}else p(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ye(h,e)}return e===N?on(m):an(m),m}}var fn=sn;Z.Fragment=N,Z.jsxDEV=fn})()});var Ee=q((Dn,De)=>{\"use strict\";De.exports=je()});var gn={};pn(gn,{default:()=>yn,frontmatter:()=>vn});var r=bn(Ee()),vn={title:\"Web scraping with JavaScript\",publishedAt:\"2019-09-25T22:12:03.284Z\",summary:\"Building daily food menu app using NextJS, Puppeteer and Zeit Now.\"};function Te(u){let n=Object.assign({p:\"p\",a:\"a\",h3:\"h3\",span:\"span\",ul:\"ul\",li:\"li\",h4:\"h4\"},u.components),{Image:c}=n;return c||Nn(\"Image\",!0,\"23:1-28:3\"),(0,r.jsxDEV)(r.Fragment,{children:[(0,r.jsxDEV)(n.p,{children:\"The company I work for just moved into new offices and there are two TVs in the main area where we sit that don't serve any purpose. We were discussing what should we display on these TVs. Usually, they are used to display build status of an app, but we are an agency and we work on multiple projects.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"We got an idea to display daily menus from nearby restaurants to help us decide what to eat for lunch. The scraper would go to each restaurant website and get the content of a daily menu to help us figure out what to eat.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:9,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"Since it sounded like a cool idea and I want to build a few \",(0,r.jsxDEV)(n.a,{href:\"https://janez.tech/blog/side-projects/\",children:\"side projects\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:11,columnNumber:61},this),\", I quietly set out to build an MVP version.\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:11,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"At the end of this article, I'll share a link to GitHub, where you can see or re-use the project for your own needs.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:13,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"how-do-you-do-web-scraping\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#how-do-you-do-web-scraping\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this),\"How do you do web scraping?\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"With no knowledge of web scraping tools or libraries, but a decent knowledge of JavaScript, I started querying Google for restaurant websites. I gathered popular restaurants to which coworkers were going out to lunch and inspected their websites. Most of these sites were static, meaning no JavaScript was required to render initial content. This was great news, because I wanted to keep the first version as simple as possible.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"tech-stack\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#tech-stack\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this),\"Tech stack\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"Backend is a simple NodeJS project and I used Axios HTTP client to fetch the content of the page. To select a specific element on the page, I found a recommendation to use a package called Cheerio, which adds you jQuery-like selectors to server. I used this to get content from the web page using selectors and it was cleaner than using vanilla JavaScript selectors.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,r.jsxDEV)(c,{alt:\"Cheerio syntax\",src:\"/images/food-scraper/cheerio.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"I also needed a frontend part to display the restaurants and menu items. Since I use React library daily, I wanted to try something familiar and settled for NextJS, which is a nice bundled React solution. NextJS offers server-side rendered React application and allows you to integrate a custom NodeJS server. This is perfect for my use case, as I can keep the whole project as a monorepo.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,r.jsxDEV)(c,{alt:\"Monorepo file structure\",src:\"/images/food-scraper/file-structure.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:32,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"A company called Zeit, creator of NextJS, also offers a deployment solution called Zeit Now. It's a CDN + Serverless offer and works well with NextJS. It deploys both frontend and backend with a single command and you can hook up your Git repository to deploy every time you push your changes to a branch.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"scraping-is-a-dirty-job\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#scraping-is-a-dirty-job\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this),\"Scraping is a dirty job\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"As you saw the syntax of one example for Cheerio usage, web scraping is much more convoluted than just using an API. For example, one restaurant just dumped all the menu items text into a single paragraph and I couldn't do much restructuring of the data to fit my needs.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"There were a few issues with my current approach:\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.ul,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:\"I noticed some weird behavior with special characters on one of the websites, where the page charset was set to non-utf8 and I couldn't get it to be scraped without weird-looking HTML characters.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"The whole site was quite slow. I did all of the web scrapings in the custom NodeJS endpoint and was waiting for 5 restaurants to send scraped data before displaying the UI. It wasn't the best user experience, but it was OK to prove the concept.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:48,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"I deployed and presented the first version of the app to coworkers.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:50,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"first-feedback\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#first-feedback\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this),\"First feedback\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"I am thankful that I got positive feedback from coworkers, who were using my app for a couple of days.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:54,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"The first request I got for the scraper was to support another popular restaurant. The issue was that this restaurant's site was not completely static, but it generated a menu dynamically with JavaScript. This meant that we cannot just get the page content with an Axios HTTP request, but we needed to load the page in a browser-like environment and wait for the JS to load before getting the HTML content.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"I searched the web for answers to this and found that the Google team released a tool called Puppeteer. It's a NodeJS library that allows you to control web browser in a headless environment and it's perfect for running on the server or in the command line.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:58,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"puppeteer-and-zeit-now\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#puppeteer-and-zeit-now\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this),\"Puppeteer and Zeit Now\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:60,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"Zeit Now worked great for normal requests with Axios but had some issues running Puppeteer. With a bit of googling, I found that the main issue is the size of Puppeteer, as we are limited with the size of a serverless function. Full Puppeteer also includes the Google Chrome browser, but puppeteer-core compresses the size of it and is perfect for these environments. I used this version for Zeit Now deployment and added some conditional logic to run the full version in the development and the compressed version on Zeit Now.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:62,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"Zeit Now offers a CLI and also has a development version (Now Dev) that you can use to reproduce their production environment on your machine. This is great, because it also supports live reload and it feels like developing a frontend app. I had some issues using Now Dev command and Puppeteer, so I just added a simple package.json script to run Express for my backend and NextJS in parallel for local development.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:64,columnNumber:1},this),`\n`,(0,r.jsxDEV)(c,{alt:\"Scripts\",src:\"/images/food-scraper/package-json.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:66,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"The problem with a site not displaying special characters was fixed just by using Puppeteer. Nice.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:73,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"its-slow\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#its-slow\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this),\"It's slow!\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:75,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"With using Puppeteer in the app, I noticed an increase in time to get back scraped data. Puppeteer runs a Chrome instance and opens pages individually. The issue was especially noticeable with our JavaScript-powered restaurant, where we had to wait for a certain element to be present on the page before we could scrape the page.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:77,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"Deploying the current version to Zeit Now, I often got runtime errors and when I checked, it said the serverless function timed out. Zeit Now has a limit of 10s execution time per free tier function.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:79,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"I searched for a solution online and found out that you can disable certain request types in Puppeteer. I disabled stylesheet (CSS), fonts, and images in our requests, meaning the Chrome instance would render just text. This made the scraping a bit faster, but still not good enough.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:81,columnNumber:1},this),`\n`,(0,r.jsxDEV)(c,{alt:\"Puppeteer optimization\",src:\"/images/food-scraper/puppeteer-optimization.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:83,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"We had to use another approach, different than executing all web scrapers together in one function.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:90,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"Instead of scraping all the restaurants together in a serverless function, I created a common function where you just passed the restaurant name as a query parameter. The function then runs Puppeteer, visits the site, and scrapes the content.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:92,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"On the frontend, we now do multiple requests and we treat responses individually, as we don't need to wait for other restaurants. This greatly reduces the time it takes to execute a function and it also improves loading perception, as we can add loaders to individual restaurants.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:94,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"making-it-faster\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#making-it-faster\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this),\"Making it faster\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:96,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"Because restaurant data is published in the late morning and doesn't change often during the day, I also thought it doesn't make sense to run the scraper with each request, as we could cache the data.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:98,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"Zeit Now supports lambda response caching, which I leveraged and set up to cache for 30 minutes. Adding to that, I set up a simple cron job with \",(0,r.jsxDEV)(n.a,{href:\"https://www.easycron.com\",children:\"EasyCron\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:100,columnNumber:146},this),\" to ping the endpoint from 9 a.m. to 2 p.m. every 15 min to reduce the load time when the users usually visit the page to look at the restaurant daily lunch menus.\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:100,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"overview\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#overview\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this),\"Overview\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:102,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"I'm pretty happy with current tech stack and the functionality of the app. It's great to have a small monorepo and a simple deployment process using Zeit Now.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:104,columnNumber:1},this),`\n`,(0,r.jsxDEV)(c,{alt:\"Food scraper\",src:\"/images/food-scraper/food-scraper.png\",width:1456/2,height:819/2},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:106,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"I can also easily add or remove restaurants and write a custom scraper for each one.\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:113,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"If you want to check out the project, you can find it on \",(0,r.jsxDEV)(n.a,{href:\"https://github.com/jamzi/food-scraper\",children:\"GitHub\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:115,columnNumber:58},this),\".\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:115,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h4,{id:\"resources\",children:[(0,r.jsxDEV)(n.a,{className:\"anchor\",href:\"#resources\",children:(0,r.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this)},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this),\"Resources\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:117,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.ul,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:[(0,r.jsxDEV)(n.a,{href:\"https://cheerio.js.org/\",children:\"https://cheerio.js.org/\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:119,columnNumber:3},this),\" (Fast, flexible, and lean implementation of core jQuery designed specifically for the server)\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:119,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[(0,r.jsxDEV)(n.a,{href:\"https://github.com/GoogleChrome/puppeteer\",children:\"https://github.com/GoogleChrome/puppeteer\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:120,columnNumber:3},this),\" (Headless Chrome Node.js API)\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:120,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[(0,r.jsxDEV)(n.a,{href:\"https://nextjs.org/\",children:\"https://nextjs.org/\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:121,columnNumber:3},this),\" (NextJS React Framework)\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:121,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[(0,r.jsxDEV)(n.a,{href:\"https://zeit.co/\",children:\"https://zeit.co/\"},void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:122,columnNumber:3},this),\" (Zeit Now platform)\"]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:122,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:119,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\",lineNumber:1,columnNumber:1},this)}function _n(u={}){let{wrapper:n}=u.components||{};return n?(0,r.jsxDEV)(n,Object.assign({},u,{children:(0,r.jsxDEV)(Te,u,void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this)}),void 0,!1,{fileName:\"/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx\"},this):Te(u)}var yn=_n;function Nn(u,n,c){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+u+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(c?\"\\nIt\\u2019s referenced in your code at `\"+c+\"` in `/Users/janez/Documents/dev/privat/portfolio/content/_mdx_bundler_entry_point-95326262-8afc-47eb-a2ab-39499ffe519f.mdx`\":\"\"))}return hn(gn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "food-scraper.mdx",
  "_raw": {
    "sourceFilePath": "food-scraper.mdx",
    "sourceFileName": "food-scraper.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "food-scraper"
  },
  "type": "Blog",
  "slug": "food-scraper",
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Web scraping with JavaScript",
    "datePublished": "2019-09-25T22:12:03.284Z",
    "dateModified": "2019-09-25T22:12:03.284Z",
    "description": "Building daily food menu app using NextJS, Puppeteer and Zeit Now.",
    "image": "https://janez.tech/og?title=Web scraping with JavaScript",
    "url": "https://janez.tech/blog/food-scraper",
    "author": {
      "@type": "Person",
      "name": "Janez Čadež"
    }
  }
}